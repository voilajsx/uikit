{"version":3,"file":"admin.js","sources":["../src/components/layouts/admin.tsx"],"sourcesContent":["/**\n * Admin Layout with consistent prop naming and navigation support\n * @module @voilajsx/uikit\n * @file src/components/layouts/admin.tsx\n */\n\nimport * as React from 'react';\nimport { forwardRef, useState, useEffect } from 'react';\nimport { cva } from 'class-variance-authority';\nimport { cn } from '@/lib/utils';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Separator } from '@/components/ui/separator';\nimport { Menu, X, ChevronRight } from 'lucide-react';\nimport type { NavigationItem, Size } from '@/types';\n\n/**\n * Admin Layout variants\n */\nconst adminVariants = cva(\n  'min-h-screen bg-background flex',\n  {\n    variants: {\n      variant: {\n        default: '',\n        muted: '',\n        primary: '',\n        black: ''\n      }\n    },\n    defaultVariants: {\n      variant: 'default'\n    }\n  }\n);\n\n/**\n * Sidebar variants with proper semantic colors\n */\nconst sidebarVariants = cva(\n  'border-r transition-all duration-300 ease-in-out fixed left-0 top-0 z-50 h-full flex flex-col',\n  {\n    variants: {\n      size: {\n        sm: 'w-48',    // 192px\n        md: 'w-64',    // 256px\n        lg: 'w-80',    // 320px\n        xl: 'w-96',    // 384px\n        full: 'w-[28rem]' // 448px\n      },\n      variant: {\n        default: [\n          'bg-white border-border',\n          'text-foreground'\n        ],\n        muted: [\n          'bg-muted/30 border-border/50',\n          'text-foreground'\n        ],\n        primary: [\n          'bg-primary border-primary-foreground/20',\n          'text-primary-foreground'\n        ],\n        black: [\n          'bg-zinc-900 border-zinc-700/40',\n          'text-zinc-100'\n        ]\n      }\n    },\n    defaultVariants: {\n      size: 'md',\n      variant: 'default'\n    }\n  }\n);\n\n/**\n * Header variants with conditional sticky positioning\n */\nconst headerVariants = cva(\n  'w-full border-b transition-all duration-200 z-40 bg-background/80 backdrop-blur-sm border-border/40 supports-[backdrop-filter]:bg-background/60 text-foreground',\n  {\n    variants: {\n      sticky: {\n        true: 'sticky top-0',\n        false: 'relative'\n      }\n    },\n    defaultVariants: {\n      sticky: true\n    }\n  }\n);\n\n/**\n * Size configuration for navigation\n */\nconst getSizeConfig = (size: Size = 'md') => {\n  const configs = {\n    sm: {\n      sidebarHeader: 'h-12 px-3 text-xs',\n      menuButton: 'px-2 py-1.5 text-xs min-h-[28px]',\n      submenuButton: 'ml-3 px-2 py-1 text-xs min-h-[24px]',\n      icon: 'h-3.5 w-3.5',\n      spacing: 'space-y-0.5',\n      showBadges: false,\n    },\n    md: {\n      sidebarHeader: 'h-16 px-4 text-sm',\n      menuButton: 'px-3 py-2.5 text-sm min-h-[36px]',\n      submenuButton: 'ml-4 px-3 py-2 text-sm min-h-[32px]',\n      icon: 'h-4 w-4',\n      spacing: 'space-y-1',\n      showBadges: true,\n    },\n    lg: {\n      sidebarHeader: 'h-20 px-6 text-base',\n      menuButton: 'px-4 py-3 text-sm min-h-[44px]',\n      submenuButton: 'ml-6 px-4 py-2.5 text-sm min-h-[36px]',\n      icon: 'h-5 w-5',\n      spacing: 'space-y-1.5',\n      showBadges: true,\n    },\n    xl: {\n      sidebarHeader: 'h-20 px-6 text-base',\n      menuButton: 'px-4 py-3 text-sm min-h-[44px]',\n      submenuButton: 'ml-6 px-4 py-2.5 text-sm min-h-[36px]',\n      icon: 'h-5 w-5',\n      spacing: 'space-y-1.5',\n      showBadges: true,\n    },\n    full: {\n      sidebarHeader: 'h-20 px-6 text-base',\n      menuButton: 'px-4 py-3 text-sm min-h-[44px]',\n      submenuButton: 'ml-6 px-4 py-2.5 text-sm min-h-[36px]',\n      icon: 'h-5 w-5',\n      spacing: 'space-y-1.5',\n      showBadges: true,\n    },\n  };\n  \n  return configs[size] || configs.md;\n};\n\n/**\n * Navigation renderer props\n */\ninterface AdminNavigationProps {\n  navigationItems: NavigationItem[];\n  currentPath: string;\n  onNavigate: (path: string, item: NavigationItem) => void;\n  size: Size;\n  variant: 'default' | 'muted' | 'primary' | 'black';\n}\n\n/**\n * Built-in Navigation Component with proper semantic colors\n */\nfunction AdminNavigation({ \n  navigationItems = [], \n  currentPath = '', \n  onNavigate = () => {},\n  size = 'md',\n  variant = 'default'\n}: AdminNavigationProps) {\n  const [expandedMenus, setExpandedMenus] = useState(new Set<string>());\n  const config = getSizeConfig(size);\n\n  const toggleMenu = (menuKey: string) => {\n    const newExpanded = new Set(expandedMenus);\n    if (newExpanded.has(menuKey)) {\n      newExpanded.delete(menuKey);\n    } else {\n      newExpanded.add(menuKey);\n    }\n    setExpandedMenus(newExpanded);\n  };\n\n  // Get variant-specific styles for sidebar navigation\n  const getMenuItemStyles = (isActive: boolean, isSubmenu = false) => {\n    const baseStyles = 'w-full flex items-center gap-3 rounded-lg transition-all duration-200 group text-left font-medium';\n    \n    if (isSubmenu) {\n      const submenuBase = `${config.submenuButton} font-normal`;\n      switch (variant) {\n        case 'muted':\n          return cn(\n            submenuBase,\n            isActive \n              ? 'bg-background text-foreground shadow-sm' \n              : 'text-muted-foreground hover:text-foreground hover:bg-background/50'\n          );\n        case 'primary':\n          return cn(\n            submenuBase,\n            isActive \n              ? 'bg-primary-foreground/20 text-primary-foreground shadow-sm' \n              : 'text-primary-foreground/80 hover:text-primary-foreground hover:bg-primary-foreground/10'\n          );\n        case 'black':\n          return cn(\n            submenuBase,\n            isActive \n              ? 'bg-zinc-800 text-zinc-100 shadow-sm' \n              : 'text-zinc-300 hover:text-zinc-100 hover:bg-zinc-800/70'\n          );\n        default:\n          return cn(\n            submenuBase,\n            isActive \n              ? 'bg-secondary text-secondary-foreground shadow-sm' \n              : 'text-muted-foreground hover:text-foreground hover:bg-muted/70'\n          );\n      }\n    } else {\n      const mainBase = config.menuButton;\n      switch (variant) {\n        case 'muted':\n          return cn(\n            baseStyles,\n            mainBase,\n            isActive \n              ? 'bg-background text-foreground shadow-sm' \n              : 'text-muted-foreground hover:text-foreground hover:bg-background/50'\n          );\n        case 'primary':\n          return cn(\n            baseStyles,\n            mainBase,\n            isActive \n              ? 'bg-primary-foreground/20 text-primary-foreground shadow-sm' \n              : 'text-primary-foreground/90 hover:text-primary-foreground hover:bg-primary-foreground/10'\n          );\n        case 'black':\n          return cn(\n            baseStyles,\n            mainBase,\n            isActive \n              ? 'bg-zinc-800 text-zinc-100 shadow-sm' \n              : 'text-zinc-200 hover:text-zinc-100 hover:bg-zinc-800/80'\n          );\n        default:\n          return cn(\n            baseStyles,\n            mainBase,\n            isActive \n              ? 'bg-secondary text-secondary-foreground shadow-sm' \n              : 'text-muted-foreground hover:text-foreground hover:bg-muted/70'\n          );\n      }\n    }\n  };\n\n  const MenuItem = ({ item, isSubmenu = false }: { item: NavigationItem; isSubmenu?: boolean }) => {\n    const hasSubmenu = !isSubmenu && item.items && item.items.length > 0;\n    const isExpanded = expandedMenus.has(item.key);\n    const isActive = item.path ? currentPath === item.path : Boolean(item.isActive);\n\n    return (\n      <div key={item.key} className=\"w-full\">\n        <button\n          onClick={() => {\n            if (hasSubmenu) {\n              toggleMenu(item.key);\n            } else if (item.path) {\n              onNavigate(item.path, item);\n            } else if (item.onClick) {\n              item.onClick();\n            }\n          }}\n          className={getMenuItemStyles(isActive, isSubmenu)}\n        >\n          {!isSubmenu && item.icon && (\n            <item.icon className={cn(config.icon, 'flex-shrink-0')} />\n          )}\n          \n          <span className=\"flex-1 truncate text-left\">{item.label}</span>\n          \n          {item.badge && config.showBadges && (\n            <Badge \n              variant={isActive ? 'secondary' : 'outline'} \n              className={cn(\n                'text-xs h-4 px-1 ml-1 flex-shrink-0',\n                variant === 'primary' && !isActive && 'border-primary-foreground/30 text-primary-foreground/80 bg-primary-foreground/10',\n                variant === 'black' && !isActive && 'border-zinc-600 text-zinc-300 bg-zinc-800/50'\n              )}\n            >\n              {item.badge}\n            </Badge>\n          )}\n          \n          {hasSubmenu && (\n            <ChevronRight className={cn(\n              config.icon,\n              'flex-shrink-0 transition-transform duration-200',\n              isExpanded && 'rotate-90'\n            )} />\n          )}\n        </button>\n        \n        {hasSubmenu && isExpanded && item.items && (\n          <div className={cn(\n            'overflow-hidden transition-all duration-300 mt-1',\n            'max-h-96 opacity-100'\n          )}>\n            <div className={cn(config.spacing, 'pb-2')}>\n              {item.items.map((subItem) => (\n                <MenuItem key={subItem.key} item={subItem} isSubmenu={true} />\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  // Group navigation items by sections\n  const sections = navigationItems.reduce((acc, item) => {\n    const section = item.section || 'main';\n    if (!acc[section]) acc[section] = [];\n    acc[section].push(item);\n    return acc;\n  }, {} as Record<string, NavigationItem[]>);\n\n  // Get section header styles based on variant\n  const getSectionHeaderStyles = () => {\n    switch (variant) {\n      case 'muted':\n        return 'px-3 mb-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider';\n      case 'primary':\n        return 'px-3 mb-4 text-xs font-semibold text-primary-foreground/70 uppercase tracking-wider';\n      case 'black':\n        return 'px-3 mb-4 text-xs font-semibold text-zinc-400 uppercase tracking-wider';\n      default:\n        return 'px-3 mb-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider';\n    }\n  };\n\n  return (\n    <nav className=\"p-6 space-y-8\">\n      {Object.entries(sections).map(([sectionKey, items]) => (\n        <div key={sectionKey}>\n          <h3 className={getSectionHeaderStyles()}>\n            {sectionKey.charAt(0).toUpperCase() + sectionKey.slice(1)}\n          </h3>\n          <div className={config.spacing}>\n            {items.map((item) => (\n              <MenuItem key={item.key} item={item} />\n            ))}\n          </div>\n          {sectionKey !== 'system' && (\n            <Separator \n              className={cn(\n                'mt-6',\n                variant === 'primary' && 'bg-primary-foreground/20',\n                variant === 'black' && 'bg-zinc-800/60'\n              )} \n            />\n          )}\n        </div>\n      ))}\n    </nav>\n  );\n}\n\n/**\n * Admin Layout props\n */\nexport interface AdminLayoutProps {\n  /** Admin layout style variant */\n  variant?: 'default' | 'muted' | 'primary' | 'black';\n  /** Sidebar size */\n  size?: Size;\n  /** Whether header should be sticky */\n  sticky?: boolean;\n  /** Navigation items */\n  navigation?: NavigationItem[];\n  /** Current path for active states */\n  currentPath?: string;\n  /** Navigation handler */\n  onNavigate?: (path: string, item: NavigationItem) => void;\n  /** Dashboard title */\n  title?: string;\n  /** Logo component */\n  logo?: React.ReactNode;\n  /** Header actions (buttons, theme toggle, etc.) */\n  headerActions?: React.ReactNode;\n  /** Custom sidebar content (overrides navigation) */\n  sidebarContent?: React.ReactNode;\n  /** Sidebar footer content */\n  sidebarFooter?: React.ReactNode;\n  /** Whether sidebar is collapsible */\n  collapsible?: boolean;\n  /** Default sidebar open state */\n  defaultSidebarOpen?: boolean;\n  /** Additional CSS classes */\n  className?: string;\n  /** Main content */\n  children: React.ReactNode;\n}\n\n/**\n * Enhanced Admin Layout with standardized props\n */\nconst AdminLayoutComponent = forwardRef<HTMLDivElement, AdminLayoutProps>(({ \n  className,\n  variant = 'default',\n  size = 'md',\n  sticky = true,\n  navigation = [],\n  currentPath = '',\n  onNavigate = () => {},\n  title = 'Admin Panel',\n  logo,\n  headerActions,\n  sidebarContent,\n  sidebarFooter,\n  collapsible = true,\n  defaultSidebarOpen = true,\n  children,\n}, ref) => {\n  const [sidebarOpen, setSidebarOpen] = useState(defaultSidebarOpen);\n  const [isMobile, setIsMobile] = useState(false);\n  const [isScrolled, setIsScrolled] = useState(false);\n  \n  const config = getSizeConfig(size);\n\n  // Check if we're on mobile\n  useEffect(() => {\n    const checkMobile = () => {\n      const mobile = window.innerWidth < 1024;\n      setIsMobile(mobile);\n      if (mobile && defaultSidebarOpen === true) {\n        setSidebarOpen(false);\n      }\n    };\n\n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    return () => window.removeEventListener('resize', checkMobile);\n  }, [defaultSidebarOpen]);\n\n  // Handle scroll for header effects - only when sticky is enabled\n  useEffect(() => {\n    const handleScroll = () => {\n      setIsScrolled(window.scrollY > 0);\n    };\n\n    if (sticky) {\n      window.addEventListener('scroll', handleScroll);\n      return () => window.removeEventListener('scroll', handleScroll);\n    }\n  }, [sticky]);\n\n  // Prevent body scroll when mobile menu is open\n  useEffect(() => {\n    if (isMobile && sidebarOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = 'unset';\n    }\n\n    return () => {\n      document.body.style.overflow = 'unset';\n    };\n  }, [isMobile, sidebarOpen]);\n\n  // Toggle sidebar\n  const toggleSidebar = () => {\n    setSidebarOpen(!sidebarOpen);\n  };\n\n  // Get header classes with proper sticky handling\n  const getHeaderClasses = () => {\n    const scrollClasses = isScrolled && sticky ? 'shadow-sm' : '';\n    return cn(headerVariants({ sticky }), scrollClasses);\n  };\n\n  // Get mobile toggle styles\n  const getMobileToggleStyles = () => {\n    return 'p-2 rounded-md text-muted-foreground hover:text-foreground hover:bg-muted transition-colors';\n  };\n\n  // Get sidebar header styles\n  const getSidebarHeaderStyles = () => {\n    switch (variant) {\n      case 'muted':\n        return 'border-border/20 bg-muted/20';\n      case 'primary':\n        return 'border-primary-foreground/20 bg-primary-foreground/10';\n      case 'black':\n        return 'border-zinc-800/40 bg-zinc-900/50';\n      default:\n        return 'border-border/20 bg-muted/20';\n    }\n  };\n\n  // Get sidebar navigation header text styles\n  const getSidebarNavHeaderStyles = () => {\n    switch (variant) {\n      case 'muted':\n        return 'text-muted-foreground';\n      case 'primary':\n        return 'text-primary-foreground/90';\n      case 'black':\n        return 'text-zinc-200';\n      default:\n        return 'text-muted-foreground';\n    }\n  };\n\n  // Get sidebar close button styles\n  const getSidebarCloseButtonStyles = () => {\n    switch (variant) {\n      case 'muted':\n        return 'text-muted-foreground hover:bg-muted hover:text-foreground';\n      case 'primary':\n        return 'text-primary-foreground hover:bg-primary-foreground/20 hover:text-primary-foreground';\n      case 'black':\n        return 'text-zinc-300 hover:bg-zinc-800 hover:text-zinc-100';\n      default:\n        return 'text-muted-foreground hover:bg-muted hover:text-foreground';\n    }\n  };\n\n  // Get sidebar footer styles\n  const getSidebarFooterStyles = () => {\n    switch (variant) {\n      case 'muted':\n        return 'border-border/20 bg-muted/20';\n      case 'primary':\n        return 'border-primary-foreground/20 bg-primary-foreground/10';\n      case 'black':\n        return 'border-zinc-800/40 bg-zinc-900/50';\n      default:\n        return 'border-border/20 bg-muted/20';\n    }\n  };\n\n  // Calculate main content margin based on sidebar size\n  const getMainContentMargin = () => {\n    if (isMobile) return '';\n    const sizeMap = {\n      sm: sidebarOpen ? 'lg:ml-48' : 'lg:ml-0',\n      md: sidebarOpen ? 'lg:ml-64' : 'lg:ml-0', \n      lg: sidebarOpen ? 'lg:ml-80' : 'lg:ml-0',\n      xl: sidebarOpen ? 'lg:ml-96' : 'lg:ml-0',\n      full: sidebarOpen ? 'lg:ml-[28rem]' : 'lg:ml-0'\n    };\n    return sizeMap[size];\n  };\n\n  return (\n    <div\n      ref={ref}\n      className={cn(adminVariants({ variant }), className)}\n    >\n      {/* Mobile Overlay */}\n      {isMobile && sidebarOpen && (\n        <div \n          className=\"fixed inset-0 z-40 bg-black/50 backdrop-blur-sm\"\n          onClick={() => setSidebarOpen(false)}\n          aria-hidden=\"true\"\n        />\n      )}\n\n      {/* Sidebar */}\n      <aside className={cn(\n        sidebarVariants({ size, variant }),\n        isMobile ? [\n          sidebarOpen ? 'translate-x-0' : '-translate-x-full'\n        ] : [\n          sidebarOpen ? 'translate-x-0' : '-translate-x-full'\n        ]\n      )}>\n        <div className=\"flex flex-col h-full\">\n          {/* Sidebar Header */}\n          <div className={cn(\n            'flex items-center justify-between border-b flex-shrink-0',\n            config.sidebarHeader,\n            getSidebarHeaderStyles()\n          )}>\n            <h2 className={cn(\n              'font-semibold uppercase tracking-wider',\n              getSidebarNavHeaderStyles()\n            )}>\n              Navigation\n            </h2>\n            \n            {collapsible && isMobile && (\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={toggleSidebar}\n                className={cn('flex-shrink-0', getSidebarCloseButtonStyles())}\n                aria-label=\"Close sidebar\"\n              >\n                <X className=\"h-4 w-4\" />\n              </Button>\n            )}\n          </div>\n\n          {/* Sidebar Content - Scrollable */}\n          <div className=\"flex-1 overflow-y-auto\">\n            {sidebarContent || (\n              <AdminNavigation\n                navigationItems={navigation}\n                currentPath={currentPath}\n                onNavigate={onNavigate}\n                size={size}\n                variant={variant}\n              />\n            )}\n          </div>\n\n          {/* Sidebar Footer */}\n          {sidebarFooter && (\n            <div className={cn(\n              'flex-shrink-0 border-t',\n              getSidebarFooterStyles()\n            )}>\n              {sidebarFooter}\n            </div>\n          )}\n        </div>\n      </aside>\n\n      {/* Main Content Area */}\n      <div className={cn(\n        'flex-1 flex flex-col min-w-0 transition-all duration-300 ease-in-out',\n        getMainContentMargin()\n      )}>\n        {/* Top Header */}\n        <header className={getHeaderClasses()}>\n          <div className={cn(\n            'flex items-center justify-between px-4 lg:px-6',\n            config.sidebarHeader\n          )}>\n            <div className=\"flex items-center gap-4 min-w-0\">\n              {/* Hamburger toggle */}\n              {collapsible && (\n                <button\n                  className={getMobileToggleStyles()}\n                  onClick={toggleSidebar}\n                  aria-label={sidebarOpen ? 'Close sidebar' : 'Open sidebar'}\n                >\n                  <Menu className=\"h-5 w-5\" />\n                </button>\n              )}\n              \n              {/* Logo and Title */}\n              <div className=\"flex items-center gap-3 min-w-0\">\n                {logo && (\n                  <div className=\"flex-shrink-0\">\n                    {logo}\n                  </div>\n                )}\n                <h1 className=\"text-lg font-semibold truncate\">\n                  {title}\n                </h1>\n              </div>\n            </div>\n            \n            {/* Header Actions */}\n            {headerActions && (\n              <div className=\"flex-shrink-0\">\n                {headerActions}\n              </div>\n            )}\n          </div>\n        </header>\n\n        {/* Main Content */}\n        <main className=\"flex-1 min-w-0\">\n          <div className=\"p-4 lg:p-6 w-full\">\n            <div className=\"w-full max-w-7xl mx-auto\">\n              {children}\n            </div>\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n});\n\nAdminLayoutComponent.displayName = 'AdminLayout';\n\n/**\n * AdminLayout with compound components\n */\nconst AdminLayout = AdminLayoutComponent;\n\nexport { AdminLayout };"],"names":["adminVariants","cva","sidebarVariants","headerVariants","getSizeConfig","size","configs","AdminNavigation","navigationItems","currentPath","onNavigate","variant","expandedMenus","setExpandedMenus","useState","config","toggleMenu","menuKey","newExpanded","getMenuItemStyles","isActive","isSubmenu","baseStyles","submenuBase","cn","mainBase","MenuItem","item","hasSubmenu","isExpanded","jsxs","jsx","Badge","ChevronRight","subItem","sections","acc","section","getSectionHeaderStyles","sectionKey","items","Separator","AdminLayoutComponent","forwardRef","className","sticky","navigation","title","logo","headerActions","sidebarContent","sidebarFooter","collapsible","defaultSidebarOpen","children","ref","sidebarOpen","setSidebarOpen","isMobile","setIsMobile","isScrolled","setIsScrolled","useEffect","checkMobile","mobile","handleScroll","toggleSidebar","getHeaderClasses","scrollClasses","getMobileToggleStyles","getSidebarHeaderStyles","getSidebarNavHeaderStyles","getSidebarCloseButtonStyles","getSidebarFooterStyles","getMainContentMargin","Button","X","Menu","AdminLayout"],"mappings":"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"}