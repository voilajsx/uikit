{"version":3,"file":"admin.js","sources":["../src/components/layouts/admin.tsx"],"sourcesContent":["/**\n * Admin Layout - FIXED with FOUC prevention (no sidebar flash on reload)\n * @module @voilajsx/uikit\n * @file src/components/layouts/admin.tsx\n */\n\nimport * as React from 'react';\nimport { forwardRef, createContext, useContext, useState, useEffect, useLayoutEffect } from 'react';\nimport { cva } from 'class-variance-authority';\nimport { cn } from '@/lib/utils';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Separator } from '@/components/ui/separator';\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from '@/components/ui/tooltip';\nimport { Menu, X, ChevronRight } from 'lucide-react';\nimport type { NavigationItem, Size, Tone } from '@/types';\n\n/**\n * AdminLayout schemes - meaningful admin variations\n * sidebar: Full navigation with icons + labels (classic)\n * compact: Icon-only navigation with click-to-expand (mobile-first)\n */\nexport type AdminLayoutScheme = 'sidebar' | 'compact';\n\n/**\n * ✅ FOUC FIX: Inject critical CSS immediately to prevent sidebar flash\n */\nfunction injectCriticalCSS() {\n  if (typeof document === 'undefined') return;\n  \n  const styleId = 'admin-layout-fouc-fix';\n  if (document.getElementById(styleId)) return; // Already injected\n  \n  const criticalCSS = `\n    /* FOUC Prevention: Hide sidebar until React hydrates */\n    .admin-layout-loading {\n      overflow: hidden;\n    }\n    \n    .admin-layout-loading .admin-sidebar-mobile {\n      transform: translateX(-100%) !important;\n      transition: none !important;\n    }\n    \n    /* Ensure mobile sidebar starts hidden */\n    @media (max-width: 1023px) {\n      .admin-sidebar-mobile {\n        transform: translateX(-100%);\n      }\n    }\n    \n    /* Desktop: Prevent width flash */\n    @media (min-width: 1024px) {\n      .admin-layout-loading .admin-sidebar-container {\n        width: 0 !important;\n        transition: none !important;\n      }\n    }\n  `;\n  \n  const style = document.createElement('style');\n  style.id = styleId;\n  style.textContent = criticalCSS;\n  document.head.appendChild(style);\n}\n\n/**\n * ✅ FOUC FIX: Initialize loading class on document\n */\nfunction initializeFOUCPrevention() {\n  if (typeof document === 'undefined') return;\n  \n  // Add loading class immediately\n  document.documentElement.classList.add('admin-layout-loading');\n  \n  // Inject critical CSS\n  injectCriticalCSS();\n}\n\n/**\n * ✅ FOUC FIX: Remove loading class when React is ready\n */\nfunction removeFOUCPrevention() {\n  if (typeof document === 'undefined') return;\n  \n  // Remove loading class with slight delay to ensure smooth transition\n  setTimeout(() => {\n    document.documentElement.classList.remove('admin-layout-loading');\n  }, 50);\n}\n\n/**\n * Detect if we're on mobile - synchronous detection to prevent flash\n */\nfunction getInitialMobileState(): boolean {\n  if (typeof window === 'undefined') return false;\n  return window.innerWidth < 1024;\n}\n\n/**\n * Get initial sidebar state based on mobile detection\n */\nfunction getInitialSidebarState(defaultOpen: boolean): boolean {\n  if (typeof window === 'undefined') return defaultOpen;\n  const isMobile = getInitialMobileState();\n  return isMobile ? false : defaultOpen;\n}\n\n/**\n * Admin context for sharing configuration across compound components\n */\nconst AdminContext = createContext<{\n  scheme: AdminLayoutScheme;\n  tone: Tone;\n  size: Size;\n  sidebarExpanded: boolean;\n  setSidebarExpanded: (expanded: boolean) => void;\n  isMobile: boolean;\n  isHydrated: boolean;\n}>({\n  scheme: 'sidebar',\n  tone: 'subtle',\n  size: 'lg',\n  sidebarExpanded: true,\n  setSidebarExpanded: () => {},\n  isMobile: false,\n  isHydrated: false,\n});\n\n/**\n * Admin layout container variants - FLEX LAYOUT\n */\nconst adminVariants = cva(\n  'min-h-screen flex bg-background',\n  {\n    variants: {\n      tone: {\n        clean: '',\n        subtle: '',\n        brand: '',\n        contrast: ''\n      }\n    },\n    defaultVariants: {\n      tone: 'subtle'\n    }\n  }\n);\n\n/**\n * AdminLayout Root - Container with context\n */\nexport interface AdminLayoutProps {\n  /** RECOMMENDED: Layout scheme (default: \"sidebar\") */\n  scheme?: AdminLayoutScheme;\n  /** RECOMMENDED: Visual styling tone (default: \"subtle\") */\n  tone?: Tone;\n  /** OPTIONAL: Layout size (default: \"lg\") */\n  size?: Size;\n  /** OPTIONAL: Sidebar positioning */\n  position?: 'relative' | 'sticky' | 'fixed';\n  /** OPTIONAL: Default sidebar state (default: true) */\n  defaultSidebarOpen?: boolean;\n  /** OPTIONAL: Additional CSS classes */\n  className?: string;\n  /** REQUIRED: Admin structure (Header, Sidebar, Content) */\n  children: React.ReactNode;\n}\n\n/**\n * AdminLayout Root Component - FIXED with FOUC prevention\n */\nconst AdminLayoutRoot = forwardRef<HTMLDivElement, AdminLayoutProps>(({\n  scheme = 'sidebar',\n  tone = 'subtle',\n  size = 'lg',\n  position = 'relative',\n  defaultSidebarOpen = true,\n  className,\n  children,\n}, ref) => {\n  // ✅ FOUC FIX: Initialize FOUC prevention immediately\n  React.useMemo(() => {\n    initializeFOUCPrevention();\n  }, []);\n\n  // ✅ FOUC FIX: Track hydration state\n  const [isHydrated, setIsHydrated] = useState(false);\n  \n  // ✅ FIX: Initialize with proper mobile-aware state\n  const [isMobile, setIsMobile] = useState(getInitialMobileState);\n  const [sidebarExpanded, setSidebarExpanded] = useState(() => \n    getInitialSidebarState(defaultSidebarOpen)\n  );\n\n  // ✅ FOUC FIX: Mark as hydrated and remove loading state\n  useLayoutEffect(() => {\n    setIsHydrated(true);\n    removeFOUCPrevention();\n  }, []);\n\n  // ✅ FIX: Use useLayoutEffect for synchronous mobile detection\n  useLayoutEffect(() => {\n    const checkMobile = () => {\n      const mobile = window.innerWidth < 1024;\n      const wasMobile = isMobile;\n      \n      setIsMobile(mobile);\n      \n      // Only auto-close sidebar when transitioning TO mobile\n      if (mobile && !wasMobile && sidebarExpanded) {\n        setSidebarExpanded(false);\n      }\n      // When transitioning FROM mobile to desktop, respect defaultSidebarOpen\n      else if (!mobile && wasMobile) {\n        setSidebarExpanded(defaultSidebarOpen);\n      }\n    };\n\n    // Check immediately in case window size changed\n    checkMobile();\n    \n    window.addEventListener('resize', checkMobile);\n    return () => window.removeEventListener('resize', checkMobile);\n  }, [isMobile, sidebarExpanded, defaultSidebarOpen]);\n\n  // Prevent body scroll when mobile sidebar is open\n  useEffect(() => {\n    if (isMobile && sidebarExpanded) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = 'unset';\n    }\n\n    return () => {\n      document.body.style.overflow = 'unset';\n    };\n  }, [isMobile, sidebarExpanded]);\n\n  // Auto-wrap Header + Content in main area\n  const childrenArray = React.Children.toArray(children);\n  const sidebar = childrenArray.find(child => \n    React.isValidElement(child) && child.type === AdminSidebar\n  );\n  const header = childrenArray.find(child => \n    React.isValidElement(child) && child.type === AdminHeader\n  );\n  const content = childrenArray.find(child => \n    React.isValidElement(child) && child.type === AdminContent\n  );\n\n  return (\n    <AdminContext.Provider value={{ \n      scheme, \n      tone, \n      size, \n      sidebarExpanded, \n      setSidebarExpanded,\n      isMobile,\n      isHydrated\n    }}>\n      <div\n        ref={ref}\n        className={cn(adminVariants({ tone }), className)}\n      >\n        {/* ✅ FOUC FIX: Sidebar container with loading protection */}\n        <div className={cn(\n          'admin-sidebar-container flex-shrink-0 overflow-hidden',\n          // ✅ FOUC FIX: Only apply transitions after hydration\n          isHydrated ? 'transition-all duration-200 ease-out' : '',\n          // Desktop: smooth width transition\n          !isMobile && sidebarExpanded && (\n            size === 'sm' ? 'w-48' :\n            size === 'md' ? 'w-56' :\n            size === 'lg' ? 'w-64' :\n            size === 'xl' ? 'w-72' :\n            'w-80'\n          ),\n          !isMobile && !sidebarExpanded && 'w-0',\n          // Mobile: don't affect layout\n          isMobile && 'w-0',\n          position === 'sticky' && isMobile && 'top-0 max-h-screen',\n          position === 'sticky' && !isMobile && 'sticky top-0 max-h-screen'\n        )}>\n          {sidebar}\n        </div>\n        \n        {/* Main Area (Header + Content) - smooth expansion with coordinated timing */}\n        <div className={cn(\n          'flex-1 flex flex-col min-w-0',\n          // ✅ FOUC FIX: Only apply transitions after hydration\n          isHydrated ? 'transition-all duration-200 ease-out' : ''\n        )}>\n          {header}\n          {content}\n        </div>\n      </div>\n    </AdminContext.Provider>\n  );\n});\n\nAdminLayoutRoot.displayName = 'AdminLayout';\n\n/**\n * AdminLayout.Sidebar - Navigation sidebar with FOUC prevention\n */\nexport interface AdminSidebarProps {\n  /** OPTIONAL: Sidebar tone (inherits from AdminLayout if not set) */\n  tone?: Tone;\n  /** OPTIONAL: Navigation items */\n  navigation?: NavigationItem[];\n  /** OPTIONAL: Current path for active states */\n  currentPath?: string;\n  /** OPTIONAL: Navigation handler */\n  onNavigate?: (href: string, item: NavigationItem) => void;\n  /** OPTIONAL: Logo component */\n  logo?: React.ReactNode;\n  /** OPTIONAL: Sidebar positioning */\n  position?: 'relative' | 'sticky' | 'fixed';\n  /** OPTIONAL: Sidebar footer content */\n  footer?: React.ReactNode;\n  /** OPTIONAL: Additional CSS classes */\n  className?: string;\n}\n\nconst AdminSidebar = forwardRef<HTMLElement, AdminSidebarProps>(({\n  tone,\n  navigation = [],\n  currentPath = '',\n  onNavigate,\n  logo,\n  position,\n  footer,\n  className,\n}, ref) => {\n  const { scheme, tone: adminTone, size, sidebarExpanded, setSidebarExpanded, isMobile, isHydrated } = useAdmin();\n  const [expandedMenus, setExpandedMenus] = useState(new Set<string>());\n  const [compactExpanded, setCompactExpanded] = useState(false);\n\n  const finalTone = tone || adminTone;\n  const isCompact = scheme === 'compact';\n  const showLabels = !isCompact || compactExpanded;\n\n  // Handle compact mode expansion\n  const handleCompactToggle = () => {\n    if (isCompact) {\n      setCompactExpanded(!compactExpanded);\n    }\n  };\n\n  // Handle menu expansion\n  const toggleMenu = (menuKey: string) => {\n    const newExpanded = new Set(expandedMenus);\n    if (newExpanded.has(menuKey)) {\n      newExpanded.delete(menuKey);\n    } else {\n      newExpanded.add(menuKey);\n    }\n    setExpandedMenus(newExpanded);\n  };\n\n  // Get menu item styles\n  const getMenuItemStyles = (isActive: boolean, isSubmenu = false) => {\n    const baseStyles = isSubmenu \n      ? 'w-[92%] flex items-center group text-left font-medium rounded-lg cursor-pointer transition-all duration-300 ease-out transform hover:scale-[1.02]'\n      : 'w-full flex items-center group text-left font-medium rounded-lg cursor-pointer transition-all duration-300 ease-out transform hover:scale-[1.02]';\n    const padding = isSubmenu \n      ? (showLabels ? 'ml-4 px-3 py-2' : 'px-2 py-2') \n      : (showLabels ? 'px-3 py-2.5' : 'px-2 py-2.5 justify-center');\n    \n    let toneStyles = '';\n    switch (finalTone) {\n      case 'clean':\n        toneStyles = isActive \n          ? 'bg-muted text-foreground shadow-sm' \n          : 'text-muted-foreground hover:text-foreground hover:bg-muted/50';\n        break;\n      case 'subtle':\n        toneStyles = isActive \n          ? 'bg-background text-foreground shadow-sm' \n          : 'text-muted-foreground hover:text-foreground hover:bg-background/60';\n        break;\n      case 'brand':\n        toneStyles = isActive \n          ? 'bg-primary-foreground/20 text-primary-foreground shadow-sm' \n          : 'text-primary-foreground/90 hover:text-primary-foreground hover:bg-primary-foreground/10';\n        break;\n      case 'contrast':\n        toneStyles = isActive \n          ? 'bg-muted/20 dark:bg-muted/20 text-white shadow-sm' \n          : 'text-white hover:bg-muted/20';\n        break;\n      default:\n        toneStyles = isActive \n          ? 'bg-muted/10 text-foreground shadow-sm' \n          : 'text-muted-foreground hover:text-foreground hover:bg-muted/50';\n    }\n    \n    return cn(baseStyles, padding, toneStyles);\n  };\n\n  // Menu item component\n  const MenuItem = ({ item, isSubmenu = false }: { item: NavigationItem; isSubmenu?: boolean }) => {\n    const hasSubmenu = !isSubmenu && item.items && item.items.length > 0;\n    const isExpanded = expandedMenus.has(item.key);\n    const isActive = item.href ? currentPath === item.href : Boolean(item.isActive);\n\n    const handleClick = () => {\n      if (isCompact && !compactExpanded) {\n        setCompactExpanded(true);\n        return;\n      }\n\n      if (hasSubmenu) {\n        toggleMenu(item.key);\n      } else if (item.href && onNavigate) {\n        onNavigate(item.href, item);\n        // Close mobile sidebar after navigation\n        if (isMobile) {\n          setSidebarExpanded(false);\n        }\n      } else if (item.onClick) {\n        item.onClick();\n        // Close mobile sidebar after action\n        if (isMobile) {\n          setSidebarExpanded(false);\n        }\n      }\n    };\n\n    const menuButton = (\n      <button\n        onClick={handleClick}\n        className={getMenuItemStyles(isActive, isSubmenu)}\n      >\n        {!isSubmenu && item.icon && (\n          <item.icon className={cn(\n            'flex-shrink-0',\n            showLabels ? 'h-4 w-4 mr-3' : 'h-5 w-5'\n          )} />\n        )}\n        \n        {showLabels && (\n          <>\n            <span className=\"flex-1 truncate text-left\">{item.label}</span>\n            \n            {item.badge && (\n              <Badge \n                variant={isActive ? 'secondary' : 'outline'} \n                className={cn(\n                  \"text-xs h-4 px-1 ml-1 flex-shrink-0\",\n                  finalTone === 'brand' && !isActive && 'bg-primary-foreground/10 text-primary-foreground border-primary-foreground/20',\n                  finalTone === 'brand' && isActive && 'bg-primary-foreground/20 text-primary-foreground border-primary-foreground/30',\n                  finalTone === 'contrast' && !isActive && 'bg-zinc-700 text-zinc-300 border-zinc-600',\n                  finalTone === 'contrast' && isActive && 'bg-zinc-600 text-zinc-100 border-zinc-500'\n                )}\n              >\n                {item.badge}\n              </Badge>\n            )}\n            \n            {hasSubmenu && (\n              <ChevronRight className={cn(\n                'h-4 w-4 flex-shrink-0 transition-transform duration-200',\n                isExpanded && 'rotate-90'\n              )} />\n            )}\n          </>\n        )}\n      </button>\n    );\n\n    // In compact mode without labels, wrap in tooltip\n    if (isCompact && !compactExpanded && !isSubmenu && item.icon) {\n      return (\n        <div key={item.key} className=\"w-full\">\n          <TooltipProvider>\n            <Tooltip delayDuration={300}>\n              <TooltipTrigger asChild>\n                {menuButton}\n              </TooltipTrigger>\n              <TooltipContent \n                side=\"right\" \n                className=\"bg-white text-black border border-gray-200 shadow-md\"\n              >\n                <p>{item.label}</p>\n              </TooltipContent>\n            </Tooltip>\n          </TooltipProvider>\n          \n          {hasSubmenu && isExpanded && showLabels && item.items && (\n            <div className=\"overflow-hidden transition-all duration-300 mt-1\">\n              <div className=\"space-y-1 pb-2\">\n                {item.items.map((subItem) => (\n                  <MenuItem key={subItem.key} item={subItem} isSubmenu={true} />\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      );\n    }\n\n    return (\n      <div key={item.key} className=\"w-full\">\n        {menuButton}\n        \n        {hasSubmenu && isExpanded && showLabels && item.items && (\n          <div className=\"overflow-hidden transition-all duration-400 ease-out mt-1\">\n            <div className=\"space-y-1 pb-2 animate-in slide-in-from-top-2\">\n              {item.items.map((subItem, subIndex) => (\n                <div\n                  key={subItem.key}\n                  className=\"transition-all duration-300 ease-out\"\n                  style={{ transitionDelay: `${subIndex * 75}ms` }}\n                >\n                  <MenuItem item={subItem} isSubmenu={true} />\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <>\n      {/* ✅ FIXED: Mobile Overlay with higher z-index */}\n      {isMobile && sidebarExpanded && (\n        <div \n          className=\"fixed inset-0 z-[60] bg-black/50 backdrop-blur-sm lg:hidden\"\n          onClick={() => setSidebarExpanded(false)}\n          aria-hidden=\"true\"\n        />\n      )}\n  \n      {/* ✅ FOUC FIX: Sidebar with loading protection */}\n      <aside \n        ref={ref}\n        className={cn(\n          'admin-sidebar-mobile border-r flex flex-col bg-background overflow-hidden',\n          // ✅ FOUC FIX: Only apply smooth transitions after hydration\n          isHydrated ? 'transition-all duration-200 ease-out' : '',\n          // ✅ FIXED: Proper z-index layering for mobile\n          // Mobile: Higher z-index than header (z-[70] > z-[10])\n          isMobile ? 'fixed left-0 top-0 z-[70] h-full' : 'relative h-screen',\n          // Mobile: slide animation (only when hydrated to prevent flash)\n          isMobile && (sidebarExpanded ? 'translate-x-0' : '-translate-x-full'),\n          // Desktop: always visible but container controls width\n          !isMobile && 'translate-x-0',\n          // Fixed widths for consistent animation\n          scheme === 'sidebar' && size === 'sm' && 'w-48',\n          scheme === 'sidebar' && size === 'md' && 'w-56', \n          scheme === 'sidebar' && size === 'lg' && 'w-64',\n          scheme === 'sidebar' && size === 'xl' && 'w-72',\n          scheme === 'sidebar' && size === 'full' && 'w-80',\n          scheme === 'compact' && !compactExpanded && size === 'sm' && 'w-12',\n          scheme === 'compact' && !compactExpanded && size === 'md' && 'w-14',\n          scheme === 'compact' && !compactExpanded && size === 'lg' && 'w-16',\n          scheme === 'compact' && !compactExpanded && size === 'xl' && 'w-18',\n          scheme === 'compact' && !compactExpanded && size === 'full' && 'w-20',\n          scheme === 'compact' && compactExpanded && size === 'sm' && 'w-48',\n          scheme === 'compact' && compactExpanded && size === 'md' && 'w-56',\n          scheme === 'compact' && compactExpanded && size === 'lg' && 'w-64',\n          scheme === 'compact' && compactExpanded && size === 'xl' && 'w-72',\n          scheme === 'compact' && compactExpanded && size === 'full' && 'w-80',\n          // Tone colors\n          finalTone === 'clean' && 'bg-background/90 backdrop-blur-sm border-border/40 text-foreground',\n          finalTone === 'subtle' && 'bg-muted/90 backdrop-blur-sm border-border/30 text-foreground',\n          finalTone === 'brand' && 'bg-primary border-primary-foreground/20 text-primary-foreground',\n          finalTone === 'contrast' && 'bg-zinc-900 border-zinc-700/40 text-zinc-100',\n          className\n        )}\n      >\n        <div className=\"flex flex-col h-full\">\n          {/* Sidebar Header with smooth transitions */}\n          <div className={cn(\n            'flex items-center shadow-sm flex-shrink-0 border-b transition-all duration-300 ease-out',\n            finalTone === 'clean' && 'border-border/40',\n            finalTone === 'subtle' && 'border-border/30', \n            finalTone === 'brand' && 'border-primary-foreground/20',\n            finalTone === 'contrast' && 'border-zinc-700/40',\n            showLabels ? 'justify-between h-16 px-4' : 'justify-center h-16 px-2'\n          )}>\n            {showLabels ? (\n              <>\n                {logo && (\n                  <div className={cn(\n                    \"flex-shrink-0\",\n                    finalTone === 'brand' && '[&_*]:text-primary-foreground',\n                    finalTone === 'contrast' && '[&_*]:text-zinc-100'\n                  )}>\n                    {logo}\n                  </div>\n                )}\n                {/* Close button for mobile OR compact expanded */}\n                {(isMobile || (isCompact && compactExpanded)) && (\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onClick={() => {\n                      if (isMobile) {\n                        setSidebarExpanded(false);\n                      } else if (isCompact) {\n                        setCompactExpanded(false);\n                      }\n                    }}\n                    className=\"flex-shrink-0\"\n                  >\n                    <X className=\"h-4 w-4\" />\n                  </Button>\n                )}\n              </>\n            ) : (\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={handleCompactToggle}\n                className=\"flex-shrink-0\"\n              >\n                <Menu className=\"h-4 w-4\" />\n              </Button>\n            )}\n          </div>\n\n          {/* Navigation with staggered animations */}\n          <div className=\"flex-1 overflow-y-auto\">\n            <nav className={cn(\n              'space-y-1 transition-all duration-300 ease-out', \n              showLabels ? 'p-4' : 'p-2'\n            )}>\n              {navigation.map((item, index) => (\n                <div \n                  key={item.key}\n                  className={cn(\n                    \"transition-all duration-300 ease-out\",\n                    showLabels ? \"opacity-100 translate-x-0\" : \"opacity-100\"\n                  )}\n                  style={{ \n                    transitionDelay: showLabels ? `${index * 50}ms` : '0ms' \n                  }}\n                >\n                  <MenuItem item={item} />\n                </div>\n              ))}\n            </nav>\n          </div>\n\n          {/* Sidebar Footer */}\n          {footer && showLabels && (\n            <>\n              <Separator className={cn(\n                finalTone === 'clean' && 'bg-border/40',\n                finalTone === 'subtle' && 'bg-border/30', \n                finalTone === 'brand' && 'bg-primary-foreground/20',\n                finalTone === 'contrast' && 'bg-zinc-700/40'\n              )} />\n              <div className=\"flex-shrink-0 p-4\">\n                {footer}\n              </div>\n            </>\n          )}\n        </div>\n      </aside>\n    </>\n  );\n});\n\nAdminSidebar.displayName = 'AdminSidebar';\n\n/**\n * AdminLayout.Header - Top header with proper z-index for mobile\n */\nexport interface AdminHeaderProps {\n  /** OPTIONAL: Header tone (inherits from AdminLayout if not set) */\n  tone?: Tone;\n  /** OPTIONAL: Header size (inherits from AdminLayout if not set) */\n  size?: Size;\n  /** OPTIONAL: Page title */\n  title?: string;\n  /** OPTIONAL: Header positioning (default: \"sticky\") */\n  position?: 'sticky' | 'fixed' | 'relative';\n  /** OPTIONAL: Breadcrumb items */\n  breadcrumbs?: { label: string; href?: string }[];\n  /** OPTIONAL: Header actions (buttons, user menu, etc.) */\n  actions?: React.ReactNode;\n  /** OPTIONAL: Additional CSS classes */\n  className?: string;\n}\n\nconst AdminHeader = forwardRef<HTMLElement, AdminHeaderProps>(({\n  tone,\n  size,\n  title,\n  position = 'sticky',\n  breadcrumbs = [],\n  actions,\n  className,\n}, ref) => {\n  const { sidebarExpanded, setSidebarExpanded, isMobile } = useAdmin();\n\n  return (\n    <header \n      ref={ref}\n      className={cn(\n        'w-full shadow-sm bg-background/95 backdrop-blur-md text-foreground flex-shrink-0 border-b border-border/50',\n        'transition-all duration-200 ease-out',\n        // ✅ FIXED: Sticky on desktop, lower z-index for mobile sidebar layering\n        position === 'sticky' && 'sticky top-0',\n        position === 'fixed' && 'fixed top-0 left-0 right-0',\n        // Always use lower z-index so mobile sidebar appears above\n        'z-[10]',\n        position === 'relative' && 'relative',\n        className\n      )}\n    >\n      <div className=\"flex items-center justify-between px-4 lg:px-6 h-16\">\n        <div className=\"flex items-center gap-4 min-w-0\">\n          {/* Toggle button with smooth icon transition */}\n          <button\n            className={cn(\n              \"p-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-muted/80 transition-all duration-300 ease-out\",\n              \"transform hover:scale-105 active:scale-95\",\n              // Always show on mobile\n              isMobile && \"block\",\n              // Show on desktop for toggle functionality  \n              !isMobile && \"block\"\n            )}\n            onClick={() => setSidebarExpanded(!sidebarExpanded)}\n            aria-label={sidebarExpanded ? 'Close sidebar' : 'Open sidebar'}\n          >\n            <Menu className={cn(\n              \"h-5 w-5 transition-transform duration-300 ease-out\",\n              sidebarExpanded && !isMobile && \"rotate-180\"\n            )} />\n          </button>\n          \n          {/* Title and Breadcrumbs */}\n          <div className=\"min-w-0\">\n            {breadcrumbs.length > 0 && (\n              <nav className=\"flex items-center gap-2 text-muted-foreground\">\n                {breadcrumbs.map((crumb, index) => (\n                  <React.Fragment key={index}>\n                    {index > 0 && <span>/</span>}\n                    {crumb.href ? (\n                      <button className=\"hover:text-foreground transition-colors\">\n                        {crumb.label}\n                      </button>\n                    ) : (\n                      <span>{crumb.label}</span>\n                    )}\n                  </React.Fragment>\n                ))}\n              </nav>\n            )}\n          </div>\n        </div>\n        \n        {/* Header Actions */}\n        {actions && (\n          <div className=\"flex-shrink-0\">\n            {actions}\n          </div>\n        )}\n      </div>\n    </header>\n  );\n});\n\nAdminHeader.displayName = 'AdminHeader';\n\n/**\n * AdminLayout.Content - Main content area with PROPER flex layout\n */\nexport interface AdminContentProps {\n  /** OPTIONAL: Content tone (inherits from AdminLayout if not set) */\n  tone?: Tone;\n  /** OPTIONAL: Content size (inherits from AdminLayout if not set) */\n  size?: Size;\n  /** OPTIONAL: Additional CSS classes */\n  className?: string;\n  /** REQUIRED: Admin content */\n  children: React.ReactNode;\n}\n\nconst AdminContent = forwardRef<HTMLElement, AdminContentProps>(({\n  tone,\n  size,\n  className,\n  children,\n}, ref) => {\n  const { isMobile } = useAdmin();\n\n  return (\n    <main \n      ref={ref}\n      className={cn(\n        'flex-1 min-w-0 overflow-auto',\n        className\n      )}\n    >\n      <div className=\"p-4 lg:p-6 w-full\">\n        <div className=\"w-full mx-auto\">\n          {children}\n        </div>\n      </div>\n    </main>\n  );\n});\n\nAdminContent.displayName = 'AdminContent';\n\n/**\n * Hook to access admin configuration\n */\nconst useAdmin = () => {\n  const context = useContext(AdminContext);\n  if (!context) {\n    throw new Error('useAdmin must be used within an AdminLayout component');\n  }\n  return context;\n};\n\n/**\n * AdminLayout - COMPOUND-ONLY Component\n */\nconst AdminLayout = Object.assign(AdminLayoutRoot, {\n  Sidebar: AdminSidebar,\n  Header: AdminHeader,\n  Content: AdminContent,\n});\n\n/**\n * Export FIXED AdminLayout\n */\nexport { \n  AdminLayout,\n  AdminSidebar,\n  AdminHeader,\n  AdminContent,\n  useAdmin\n};"],"names":["injectCriticalCSS","styleId","criticalCSS","style","initializeFOUCPrevention","removeFOUCPrevention","getInitialMobileState","getInitialSidebarState","defaultOpen","AdminContext","createContext","adminVariants","cva","AdminLayoutRoot","forwardRef","scheme","tone","size","position","defaultSidebarOpen","className","children","ref","React","isHydrated","setIsHydrated","useState","isMobile","setIsMobile","sidebarExpanded","setSidebarExpanded","useLayoutEffect","checkMobile","mobile","wasMobile","useEffect","childrenArray","sidebar","child","AdminSidebar","header","AdminHeader","content","AdminContent","jsx","jsxs","cn","navigation","currentPath","onNavigate","logo","footer","adminTone","useAdmin","expandedMenus","setExpandedMenus","compactExpanded","setCompactExpanded","finalTone","isCompact","showLabels","handleCompactToggle","toggleMenu","menuKey","newExpanded","getMenuItemStyles","isActive","isSubmenu","baseStyles","padding","toneStyles","MenuItem","item","hasSubmenu","isExpanded","menuButton","Fragment","Badge","ChevronRight","TooltipProvider","Tooltip","TooltipTrigger","TooltipContent","subItem","subIndex","Button","X","Menu","index","Separator","title","breadcrumbs","actions","crumb","context","useContext","AdminLayout"],"mappings":"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"}