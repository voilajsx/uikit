{"version":3,"file":"header.js","sources":["../src/components/sections/header.tsx"],"sourcesContent":["/**\n * Header component with responsive navigation and standardized props\n * @module @voilajsx/uikit\n * @file src/components/sections/header.tsx\n */\n\nimport * as React from 'react';\nimport { forwardRef, createContext, useContext, useState, useEffect } from 'react';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport { cn } from '@/lib/utils';\nimport { Button } from '@/components/ui/button';\nimport { Menu, X, ChevronDown } from 'lucide-react';\nimport type { NavigationItem, Size } from '@/types';\n\n/**\n * Header context for sharing configuration\n */\nconst HeaderContext = createContext<{\n  variant: 'default' | 'muted' | 'primary' | 'black';\n  size: Size;\n}>({\n  variant: 'default',\n  size: 'xl',\n});\n\n/**\n * Header variants with semantic colors\n */\nconst headerVariants = cva(\n  'w-full border-b transition-all duration-200 z-40',\n  {\n    variants: {\n      variant: {\n        default: [\n          'bg-background/80 backdrop-blur-sm border-border/40 supports-[backdrop-filter]:bg-background/60',\n          'text-foreground'\n        ],\n        muted: [\n          'bg-muted/50 backdrop-blur-sm border-border/30',\n          'text-foreground'\n        ],\n        primary: [\n          'bg-primary border-primary-foreground/20',\n          'text-primary-foreground'\n        ],\n        black: [\n          'bg-zinc-900 border-zinc-700/40',\n          'text-zinc-100'\n        ]\n      },\n      sticky: {\n        true: 'sticky top-0',\n        false: 'relative'\n      }\n    },\n    defaultVariants: {\n      variant: 'default',\n      sticky: true\n    }\n  }\n);\n\n/**\n * Container variants for responsive sizing\n */\nconst containerVariants = cva(\n  'mx-auto flex items-center justify-between',\n  {\n    variants: {\n      size: {\n        sm: 'max-w-2xl h-12 px-4',\n        md: 'max-w-4xl h-14 px-4 sm:px-6',\n        lg: 'max-w-6xl h-16 px-4 sm:px-6 lg:px-8',\n        xl: 'max-w-7xl h-16 px-4 sm:px-6 lg:px-8',\n        full: 'max-w-full h-16 px-4 sm:px-6 lg:px-8'\n      }\n    },\n    defaultVariants: {\n      size: 'xl'\n    }\n  }\n);\n\n/**\n * Header component props\n */\nexport interface HeaderProps \n  extends React.HTMLAttributes<HTMLElement>,\n    VariantProps<typeof headerVariants> {\n  /** Header style variant */\n  variant?: 'default' | 'muted' | 'primary' | 'black';\n  /** Header size (width + height + padding) */\n  size?: Size;\n  /** Whether header should be sticky */\n  sticky?: boolean;\n  /** Header content */\n  children: React.ReactNode;\n}\n\n/**\n * Main Header component with standardized props\n */\nconst HeaderComponent = forwardRef<HTMLElement, HeaderProps>(({ \n  className,\n  variant = 'default',\n  size = 'xl',\n  sticky = true,\n  children,\n  ...props \n}, ref) => {\n  return (\n    <HeaderContext.Provider value={{ variant, size }}>\n      <header\n        ref={ref}\n        className={cn(headerVariants({ variant, sticky }), className)}\n        {...props}\n      >\n        <div className={cn(containerVariants({ size }))}>\n          {children}\n        </div>\n      </header>\n    </HeaderContext.Provider>\n  );\n});\n\nHeaderComponent.displayName = 'Header';\n\n/**\n * Header Logo section props\n */\nexport interface HeaderLogoProps extends React.HTMLAttributes<HTMLDivElement> {\n  /** Logo content */\n  children: React.ReactNode;\n}\n\n/**\n * Header Logo section (always on the left)\n */\nconst HeaderLogo = forwardRef<HTMLDivElement, HeaderLogoProps>(({ \n  className, \n  children, \n  ...props \n}, ref) => (\n  <div\n    ref={ref}\n    className={cn('flex items-center flex-shrink-0', className)}\n    {...props}\n  >\n    {children}\n  </div>\n));\n\nHeaderLogo.displayName = 'HeaderLogo';\n\n/**\n * Header Navigation props\n */\nexport interface HeaderNavProps extends React.HTMLAttributes<HTMLDivElement> {\n  /** Navigation items */\n  navigation?: NavigationItem[];\n  /** Current path for active states */\n  currentPath?: string;\n  /** Navigation handler */\n  onNavigate?: (path: string, item: NavigationItem) => void;\n}\n\n/**\n * Smart Header Navigation with responsive mobile menu\n */\nconst HeaderNav = forwardRef<HTMLDivElement, HeaderNavProps>(({ \n  navigation = [], \n  currentPath = '',\n  onNavigate,\n  className, \n  ...props \n}, ref) => {\n  const [mobileOpen, setMobileOpen] = useState(false);\n  const [expandedMobileItems, setExpandedMobileItems] = useState(new Set<string>());\n  const [isMounted, setIsMounted] = useState(false);\n  const { variant } = useContext(HeaderContext);\n\n  // Ensure component is mounted before showing interactive elements\n  useEffect(() => {\n    setIsMounted(true);\n  }, []);\n\n  // Close mobile menu on resize to desktop\n  useEffect(() => {\n    if (!isMounted) return;\n    \n    const handleResize = () => {\n      if (window.innerWidth >= 768) {\n        setMobileOpen(false);\n      }\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, [isMounted]);\n\n  // Prevent body scroll when mobile menu is open\n  useEffect(() => {\n    if (!isMounted) return;\n    \n    if (mobileOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = 'unset';\n    }\n\n    return () => {\n      document.body.style.overflow = 'unset';\n    };\n  }, [mobileOpen, isMounted]);\n\n  // Handle mobile dropdown toggle\n  const toggleMobileDropdown = (key: string) => {\n    const newExpanded = new Set(expandedMobileItems);\n    if (newExpanded.has(key)) {\n      newExpanded.delete(key);\n    } else {\n      newExpanded.add(key);\n    }\n    setExpandedMobileItems(newExpanded);\n  };\n\n  // Handle navigation click\n  const handleItemClick = (item: NavigationItem) => {\n    setMobileOpen(false);\n    setExpandedMobileItems(new Set());\n    \n    if (item.path && onNavigate) {\n      onNavigate(item.path, item);\n    } else if (item.onClick) {\n      item.onClick();\n    }\n  };\n\n  // Get variant-specific button styles\n  const getButtonStyles = (isActive = false) => {\n    const baseStyles = 'justify-start cursor-pointer rounded-lg transition-colors';\n    \n    switch (variant) {\n      case 'muted':\n        return cn(\n          baseStyles,\n          isActive \n            ? 'bg-background text-foreground hover:bg-background/80' \n            : 'text-muted-foreground hover:text-foreground hover:bg-background/50'\n        );\n      case 'primary':\n        return cn(\n          baseStyles,\n          isActive \n            ? 'bg-primary-foreground/20 text-primary-foreground hover:bg-primary-foreground/30' \n            : 'text-primary-foreground hover:bg-primary-foreground/10'\n        );\n      case 'black':\n        return cn(\n          baseStyles,\n          isActive \n            ? 'bg-zinc-700 text-zinc-100 hover:bg-zinc-600' \n            : 'text-zinc-100 hover:bg-zinc-800'\n        );\n      default:\n        return cn(\n          baseStyles,\n          isActive \n            ? 'bg-secondary text-secondary-foreground hover:bg-secondary/80' \n            : 'text-foreground hover:bg-muted'\n        );\n    }\n  };\n\n  // Desktop Navigation Component\n  const DesktopNavigation = () => {\n    const [openDropdown, setOpenDropdown] = useState<string | null>(null);\n\n    // Close dropdown when clicking outside\n    useEffect(() => {\n      const handleOutsideClick = () => setOpenDropdown(null);\n      \n      if (openDropdown !== null) {\n        document.addEventListener('click', handleOutsideClick);\n        return () => document.removeEventListener('click', handleOutsideClick);\n      }\n    }, [openDropdown]);\n\n    return (\n      <nav className={cn('hidden md:flex items-center space-x-1', className)} ref={ref} {...props}>\n        {navigation.map((item) => {\n          const hasDropdown = item.items && item.items.length > 0;\n          const isOpen = openDropdown === item.key;\n          const isActive = item.path ? currentPath === item.path : item.isActive;\n\n          return (\n            <div key={item.key} className=\"relative\">\n              <Button \n                variant=\"ghost\" \n                size=\"sm\" \n                className={cn(getButtonStyles(isActive), item.className)}\n                onClick={(e) => {\n                  e.stopPropagation();\n                  if (hasDropdown) {\n                    setOpenDropdown(isOpen ? null : item.key);\n                  } else {\n                    setOpenDropdown(null);\n                    handleItemClick(item);\n                  }\n                }}\n              >\n                {item.icon && <item.icon className=\"h-4 w-4 mr-2\" />}\n                <span>{item.label}</span>\n                {hasDropdown && (\n                  <ChevronDown className={cn(\n                    'h-3 w-3 ml-1 transition-transform duration-200',\n                    isOpen && 'rotate-180'\n                  )} />\n                )}\n              </Button>\n              \n              {/* Dropdown Menu */}\n              {hasDropdown && isOpen && (\n                <div \n                  className=\"absolute top-full left-0 w-48 bg-background border border-border rounded-lg shadow-lg z-50 mt-1\"\n                  onClick={(e) => e.stopPropagation()}\n                >\n                  <div className=\"py-1\">\n                    {item.items?.map((subItem) => {\n                      const subIsActive = subItem.path ? currentPath === subItem.path : subItem.isActive;\n                      \n                      return (\n                        <button\n                          key={subItem.key}\n                          className={cn(\n                            'w-full px-3 py-2 text-left text-sm transition-colors flex items-center',\n                            'hover:bg-muted focus:bg-muted focus:outline-none',\n                            subIsActive \n                              ? 'bg-secondary text-secondary-foreground' \n                              : 'text-foreground'\n                          )}\n                          onClick={() => {\n                            setOpenDropdown(null);\n                            handleItemClick(subItem);\n                          }}\n                        >\n                          {subItem.icon && <subItem.icon className=\"h-4 w-4 mr-2\" />}\n                          <span>{subItem.label}</span>\n                        </button>\n                      );\n                    })}\n                  </div>\n                </div>\n              )}\n            </div>\n          );\n        })}\n      </nav>\n    );\n  };\n\n  // Mobile Toggle Button\n  const MobileToggle = () => {\n    const getMobileToggleStyles = () => {\n      switch (variant) {\n        case 'muted':\n          return 'md:hidden text-muted-foreground hover:text-foreground hover:bg-background/50';\n        case 'primary':\n          return 'md:hidden text-primary-foreground hover:bg-primary-foreground/10';\n        case 'black':\n          return 'md:hidden text-zinc-100 hover:bg-zinc-800';\n        default:\n          return 'md:hidden text-foreground hover:bg-muted';\n      }\n    };\n\n    return (\n      <Button\n        variant=\"ghost\"\n        size=\"icon\"\n        className={getMobileToggleStyles()}\n        onClick={() => setMobileOpen(!mobileOpen)}\n        aria-label={mobileOpen ? 'Close menu' : 'Open menu'}\n      >\n        {mobileOpen ? <X className=\"h-5 w-5\" /> : <Menu className=\"h-5 w-5\" />}\n      </Button>\n    );\n  };\n\n  // Mobile Navigation Component\n  const MobileNavigation = () => {\n    const getMobileButtonStyles = (isActive = false) => {\n      return cn(\n        'flex items-center cursor-pointer transition-colors duration-200 rounded-lg',\n        isActive \n          ? 'bg-secondary text-secondary-foreground' \n          : 'text-foreground hover:bg-muted'\n      );\n    };\n\n    return (\n      <div\n        className={cn(\n          'fixed top-16 left-0 right-0 z-40 md:hidden bg-background border-b border-border/40 shadow-lg transition-all duration-300 ease-out overflow-hidden',\n          mobileOpen ? 'max-h-screen opacity-100' : 'max-h-0 opacity-0'\n        )}\n      >\n        <div className=\"max-h-96 overflow-y-auto\">\n          <div className=\"px-4 py-4 space-y-2\">\n            {navigation.map((item) => {\n              const hasSubItems = item.items && item.items.length > 0;\n              const isExpanded = expandedMobileItems.has(item.key);\n              const isActive = item.path ? currentPath === item.path : item.isActive;\n\n              return (\n                <div key={item.key} className=\"space-y-1\">\n                  <div \n                    className={cn(getMobileButtonStyles(isActive), item.className)}\n                    onClick={() => hasSubItems ? toggleMobileDropdown(item.key) : handleItemClick(item)}\n                  >\n                    <div className=\"flex-1 flex items-center px-3 py-2\">\n                      {item.icon && <item.icon className=\"h-4 w-4 mr-3\" />}\n                      <span className=\"text-sm\">{item.label}</span>\n                      {hasSubItems && (\n                        <ChevronDown className={cn(\n                          'h-4 w-4 ml-auto transition-transform duration-200',\n                          isExpanded && 'rotate-180'\n                        )} />\n                      )}\n                    </div>\n                  </div>\n                  \n                  {/* Submenu */}\n                  {hasSubItems && (\n                    <div className={cn(\n                      'ml-6 space-y-1 border-l border-border/30 pl-4 overflow-hidden transition-all duration-300 ease-out',\n                      isExpanded ? 'max-h-96 opacity-100' : 'max-h-0 opacity-0'\n                    )}>\n                      {item.items?.map((subItem) => {\n                        const subIsActive = subItem.path ? currentPath === subItem.path : subItem.isActive;\n                        \n                        return (\n                          <div\n                            key={subItem.key}\n                            className={cn(\n                              'flex items-center px-3 py-2 rounded-lg transition-colors cursor-pointer',\n                              subIsActive \n                                ? 'bg-secondary text-secondary-foreground' \n                                : 'text-muted-foreground hover:text-foreground hover:bg-muted'\n                            )}\n                            onClick={() => handleItemClick(subItem)}\n                          >\n                            {subItem.icon && <subItem.icon className=\"h-3 w-3 mr-3\" />}\n                            <span className=\"text-sm\">{subItem.label}</span>\n                          </div>\n                        );\n                      })}\n                    </div>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"flex items-center ml-auto\">\n      {/* Desktop Navigation */}\n      <DesktopNavigation />\n      \n      {/* Mobile Toggle */}\n      <MobileToggle />\n      \n      {/* Mobile Navigation */}\n      <MobileNavigation />\n    </div>\n  );\n});\n\nHeaderNav.displayName = 'HeaderNav';\n\n/**\n * Header with compound components\n */\nconst Header = Object.assign(HeaderComponent, {\n  Logo: HeaderLogo,\n  Nav: HeaderNav,\n});\n\n/**\n * Export Header with compound components and individual components\n */\nexport { \n  Header,\n  HeaderLogo,\n  HeaderNav,\n  headerVariants,\n  containerVariants\n};"],"names":["HeaderContext","createContext","headerVariants","cva","containerVariants","HeaderComponent","forwardRef","className","variant","size","sticky","children","props","ref","jsx","cn","HeaderLogo","HeaderNav","navigation","currentPath","onNavigate","mobileOpen","setMobileOpen","useState","expandedMobileItems","setExpandedMobileItems","isMounted","setIsMounted","useContext","useEffect","handleResize","toggleMobileDropdown","key","newExpanded","handleItemClick","item","getButtonStyles","isActive","baseStyles","jsxs","openDropdown","setOpenDropdown","handleOutsideClick","hasDropdown","isOpen","Button","e","ChevronDown","subItem","subIsActive","Menu","getMobileButtonStyles","hasSubItems","isExpanded","_a","Header"],"mappings":"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"}